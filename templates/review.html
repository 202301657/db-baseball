<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê²½ê¸° ë¦¬ë·°</title>

    <style>
        body {
            font-family: "Pretendard", Arial, sans-serif;
            background: linear-gradient(135deg, #e0eafc, #cfdef3);
            padding: 40px;
        }

        /* ===== ê³µí†µ ì¹´ë“œ ===== */
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
            padding: 25px 30px;
            margin-bottom: 40px;
        }

        /* ===== ìƒë‹¨ ê²½ê¸° ì •ë³´ ===== */
        .title-box h2 {
            font-size: 34px;
            font-weight: 900;
            margin-bottom: 15px;
            color: #222;
        }

        .score-box {
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .score {
            font-size: 32px;
            font-weight: 900;
        }

        .team1 { color: #d9534f; }
        .team2 { color: #0275d8; }

        .winner-badge {
            padding: 6px 14px;
            border-radius: 999px;
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            font-weight: 700;
            font-size: 16px;
            margin-left: 10px;
        }

        /* ===== íŒ€ ê¸°ë¡ (ì¤‘ì•™ ê¸°ì¤€ ë¹„êµ) ===== */
        .team-stats-row {
            display: grid;
            grid-template-columns: 1fr 80px 1fr;
            align-items: center;
            margin: 18px 0;
        }

        .stat-left,
        .stat-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stat-left {
            justify-content: flex-end;
        }

        .stat-right {
            justify-content: flex-start;
        }

        .stat-label {
            text-align: center;
            font-size: 15px;
            font-weight: 700;
            color: #666;
        }

        .value {
            min-width: 32px;
            text-align: center;
            font-weight: 800;
            color: #222;
        }

        .bar {
            width: 160px;
            height: 8px;
            background: #eee;
            border-radius: 6px;
            overflow: hidden;
        }

        .bar span {
            display: block;
            height: 100%;
            border-radius: 6px;
        }

        .bar.left span {
            background: linear-gradient(90deg, #ff7675, #d63031);
            margin-left: auto; /* ì¤‘ì•™ ê¸°ì¤€ ì™¼ìª½ í™•ì¥ */
        }

        .bar.right span {
            background: linear-gradient(90deg, #74b9ff, #0984e3);
        }

        /* ===== íŒ€ ì„¹ì…˜ í—¤ë” ===== */
        .team-header {
            font-size: 26px;
            font-weight: 900;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team-bar {
            width: 6px;
            height: 28px;
            border-radius: 10px;
            background: linear-gradient(180deg, #ff7675, #d63031);
        }

        .team-bar.blue {
            background: linear-gradient(180deg, #74b9ff, #0984e3);
        }

        /* ===== í…Œì´ë¸” ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            overflow: hidden;
            border-radius: 14px;
        }

        th {
            background: #1e272e;
            color: white;
            padding: 14px;
            font-size: 16px;
        }

        td {
            padding: 14px;
            border-bottom: 1px solid #eee;
            font-size: 15px;
        }

        tr:nth-child(even) {
            background: #f9fbfc;
        }

        tr:hover {
            background: #eaf4ff;
        }

        .numeric {
            font-weight: 700;
            color: #333;
        }
    </style>
</head>
<body>

    <!-- ===== ê²½ê¸° ì •ë³´ ===== -->
    <div class="card title-box">
        <h2>âš¾ ê²½ê¸° ë¦¬ë·° (Game ID: {{ game_id }})</h2>

        {% if game_info %}
        <div class="score-box">
            <strong>{{ game_info.team1 }}</strong>
            <span class="score team1">{{ game_info.score_team1 }}</span>
            <span>VS</span>
            <span class="score team2">{{ game_info.score_team2 }}</span>
            <strong>{{ game_info.team2 }}</strong>
            <span class="winner-badge">ğŸ† {{ game_info.winner }}</span>
        </div>
        {% endif %}
    </div>

    <!-- ===== íŒ€ ê¸°ë¡ ===== -->
    <div class="card">
        <div class="team-header">íŒ€ ê¸°ë¡</div>

        {% set t1 = team_stats.team1 %}
        {% set t2 = team_stats.team2 %}

        {% for label, v1, v2 in [
            ("ì•ˆíƒ€", t1.hits, t2.hits),
            ("í™ˆëŸ°", t1.home_runs, t2.home_runs),
            ("íƒ€ìœ¨", t1.avg, t2.avg),
            ("íƒˆì‚¼ì§„", t1.strikeouts, t2.strikeouts),
            ("ë„ë£¨", t1.stolen_bases, t2.stolen_bases),
            ("ì‹¤ì±…", t1.errors, t2.errors),
            ("ë³‘ì‚´", t1.double_plays, t2.double_plays),
            ("ì”ë£¨", t1.left_on_base, t2.left_on_base),
            ("ì‚¬ì‚¬êµ¬", t1.walks, t2.walks)
        ] %}
        {% set maxv = v1 if v1 > v2 else v2 %}

        <div class="team-stats-row">
            <div class="stat-left">
                <span class="value">{{ v1 }}</span>
                <div class="bar left">
                    <span style="width: {{ (v1 / maxv * 100) if maxv else 0 }}%"></span>
                </div>
            </div>

            <div class="stat-label">{{ label }}</div>

            <div class="stat-right">
                <div class="bar right">
                    <span style="width: {{ (v2 / maxv * 100) if maxv else 0 }}%"></span>
                </div>
                <span class="value">{{ v2 }}</span>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- ===== íŒ€1 íƒ€ì ===== -->
    <div class="card">
        <div class="team-header">
            <div class="team-bar"></div>
            {{ game_info.team1 }} íƒ€ì ê¸°ë¡
        </div>

        <table>
            <thead>
                <tr>
                    <th>ì„ ìˆ˜ëª…</th>
                    <th>íƒ€ìˆ˜</th>
                    <th>ì•ˆíƒ€</th>
                    <th>íƒ€ì </th>
                    <th>ë“ì </th>
                    <th>íƒ€ìœ¨</th>
                </tr>
            </thead>
            <tbody>
                {% for b in batters_team1 %}
                <tr>
                    <td>{{ b.player_name }}</td>
                    <td class="numeric">{{ b.at_bats }}</td>
                    <td class="numeric">{{ b.hits }}</td>
                    <td class="numeric">{{ b.rbi }}</td>
                    <td class="numeric">{{ b.run }}</td>
                    <td class="numeric">{{ b.avg }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- ===== íŒ€2 íƒ€ì ===== -->
    <div class="card">
        <div class="team-header">
            <div class="team-bar blue"></div>
            {{ game_info.team2 }} íƒ€ì ê¸°ë¡
        </div>

        <table>
            <thead>
                <tr>
                    <th>ì„ ìˆ˜ëª…</th>
                    <th>íƒ€ìˆ˜</th>
                    <th>ì•ˆíƒ€</th>
                    <th>íƒ€ì </th>
                    <th>ë“ì </th>
                    <th>íƒ€ìœ¨</th>
                </tr>
            </thead>
            <tbody>
                {% for b in batters_team2 %}
                <tr>
                    <td>{{ b.player_name }}</td>
                    <td class="numeric">{{ b.at_bats }}</td>
                    <td class="numeric">{{ b.hits }}</td>
                    <td class="numeric">{{ b.rbi }}</td>
                    <td class="numeric">{{ b.run }}</td>
                    <td class="numeric">{{ b.avg }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</body>
</html>
